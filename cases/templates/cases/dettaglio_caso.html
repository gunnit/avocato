{% extends 'cases/base.html' %}

{% block page_title %}{{ caso.titolo }}{% endblock %}

{% block breadcrumbs %}
<!--begin::Item-->
<li class="breadcrumb-item">
    <span class="bullet bg-gray-500 w-5px h-2px"></span>
</li>
<!--end::Item-->
<!--begin::Item-->
<li class="breadcrumb-item text-muted">
    <a href="{% url 'lista_casi' %}" class="text-muted text-hover-primary">Lista Casi</a>
</li>
<!--end::Item-->
<!--begin::Item-->
<li class="breadcrumb-item">
    <span class="bullet bg-gray-500 w-5px h-2px"></span>
</li>
<!--end::Item-->
<!--begin::Item-->
<li class="breadcrumb-item text-muted">{{ caso.titolo }}</li>
<!--end::Item-->
{% endblock %}

{% block page_actions %}
<!--begin::Actions-->
<div class="d-flex align-items-center gap-2">
    {% if caso.stato != 'Completato' %}
    <button type="button" class="btn btn-sm btn-light-success" data-bs-toggle="modal" data-bs-target="#modalCompletaCaso">
        <i class="ki-duotone ki-check fs-2">
            <span class="path1"></span>
            <span class="path2"></span>
        </i>
        <span class="ms-1">Completa Caso</span>
    </button>
    {% endif %}
    <a href="{% url 'lista_casi' %}" class="btn btn-sm btn-light">
        <i class="ki-duotone ki-arrow-left fs-2">
            <span class="path1"></span>
            <span class="path2"></span>
        </i>
        <span class="ms-1">Torna alla Lista</span>
    </a>
</div>
<!--end::Actions-->
{% endblock %}

{% block content %}
<!--begin::Content container-->
<div class="d-flex flex-column flex-xl-row gap-7">
    <!--begin::Status indicator-->
    <div class="d-none d-md-flex position-fixed top-50 end-0 me-5 translate-middle-y">
        <div class="d-flex flex-column align-items-center">
            <span class="fs-7 fw-bold text-gray-600 mb-2">STATO</span>
            <span class="badge badge-lg py-3 px-4 fs-7 
                {% if caso.stato == 'In corso' %}badge-light-primary
                {% elif caso.stato == 'Completato' %}badge-light-success
                {% else %}badge-light-warning{% endif %}">
                {{ caso.stato }}
            </span>
        </div>
    </div>
    <!--end::Status indicator-->

    <!--begin::Main column-->
    <div class="d-flex flex-column flex-row-fluid gap-7">
        <!--begin::Case info-->
        {% include 'cases/components/case_info.html' %}
        <!--end::Case info-->

        <!--begin::Case analysis-->
        {% include 'cases/components/case_analysis.html' %}
        <!--end::Case analysis-->
    </div>
    <!--end::Main column-->
</div>
<!--end::Content container-->
{% endblock %}
